"use strict";(self.webpackChunkmingyue_design=self.webpackChunkmingyue_design||[]).push([[491],{"./src/components/Menu/menu.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BasicMenu:()=>BasicMenu,VerticalMenu:()=>VerticalMenu,WithSubMenu:()=>WithSubMenu,__namedExportsOrder:()=>__namedExportsOrder,default:()=>menu_stories});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const MenuContext=(0,react.createContext)({index:"0",onSelect:()=>{}}),Menu=props=>{const{defaultIndex="0",className,mode="horizontal",style,onSelect,children,defaultOpenSubMenus=[]}=props,[currentActive,setCurrentActive]=(0,react.useState)(defaultIndex),passedContext={index:currentActive,onSelect:index=>{setCurrentActive(index),onSelect&&onSelect(index)},mode},classes=classnames_default()("menu",className,{"menu-vertical":"vertical"===mode,"menu-horizontal":"vertical"!==mode});return(0,jsx_runtime.jsx)("ul",{className:classes,style,"data-testid":"test-menu",children:(0,jsx_runtime.jsx)(MenuContext.Provider,{value:passedContext,children:react.Children.map(children,((child,index)=>{const childElement=child,{name}=childElement.type;if("MenuItem"===name||"SubMenu"===name)return react.cloneElement(childElement,{index:index.toString()});console.error("Warning: Menu has a child which is not a MenuItem component")}))})})},menu=Menu;Menu.__docgenInfo={description:"",methods:[],displayName:"Menu",props:{defaultIndex:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},mode:{required:!1,tsType:{name:"union",raw:'"horizontal" | "vertical"',elements:[{name:"literal",value:'"horizontal"'},{name:"literal",value:'"vertical"'}]},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedIndex: string) => void",signature:{arguments:[{type:{name:"string"},name:"selectedIndex"}],return:{name:"void"}}},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},defaultOpenSubMenus:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};const MenuItem=props=>{const{index,disabled,className,style,children}=props,itemContext=(0,react.useContext)(MenuContext),classes=classnames_default()("menu-item",className,{"is-disabled":disabled,"is-active":itemContext.index===index});return(0,jsx_runtime.jsx)("li",{className:classes,style,onClick:()=>{itemContext.onSelect&&!disabled&&index&&itemContext.onSelect(index)},role:"menuitem",children})},menuItem=MenuItem;MenuItem.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{index:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var icon=__webpack_require__("./src/components/Icon/icon.tsx"),transition=__webpack_require__("./src/components/Transition/transition.tsx");const SubMenu=_ref=>{let{index,title,className,children}=_ref;const[menuOpen,setMenuOpen]=(0,react.useState)(!1),subMenuContext=(0,react.useContext)(MenuContext),classes=classnames_default()("menu-item submenu-item",className,{"is-active":subMenuContext.index===index});let timer;const handleMouse=(e,toggle)=>{clearTimeout(timer),e.preventDefault(),timer=setTimeout((()=>{setMenuOpen(toggle)}),300)},clickEvents="vertical"===subMenuContext.mode?{onClick:e=>{e.preventDefault(),setMenuOpen(!menuOpen)}}:{},hoverEvents="vertical"!==subMenuContext.mode?{onMouseEnter:e=>handleMouse(e,!0),onMouseLeave:e=>handleMouse(e,!1)}:{};return(0,jsx_runtime.jsxs)("li",{className:classes,...hoverEvents,children:[(0,jsx_runtime.jsxs)("div",{className:"submenu-title",...clickEvents,children:[title,(0,jsx_runtime.jsx)(icon.A,{icon:"angle-down",className:"arrow-icon"})]}),(()=>{const subMenuClasses=classnames_default()("mingyue-submenu",{"menu-opened":menuOpen}),subMenuItems=react.Children.map(children,((child,i)=>{const childElement=child,{name}=childElement.type;if("MenuItem"===name)return react.cloneElement(childElement,{index:`${index}-${i}`});console.error("Warning: SubMenu has a child which is not a MenuItem component")}));return(0,jsx_runtime.jsx)(transition.A,{in:menuOpen,timeout:300,classNames:"zoom-in-bottom",appear:!0,unmountOnExit:!0,children:(0,jsx_runtime.jsx)("ul",{className:subMenuClasses,children:subMenuItems})})})()]},index)};SubMenu.displayName="SubMenu";const subMenu=SubMenu;SubMenu.__docgenInfo={description:"",methods:[],displayName:"SubMenu",props:{index:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const menu_stories={component:menu,title:"Example/Menu",tags:["autodocs"],parameters:{layout:"centered"},argTypes:{mode:{control:"select",defaultValue:"horizontal",options:["horizontal","vertical"]},defaultIndex:{control:"text",defaultValue:"0"}},args:{defaultIndex:"0",mode:"horizontal",onSelect:index=>alert(index)}},BasicMenu={args:{defaultIndex:"0",mode:"horizontal"},render:args=>(0,jsx_runtime.jsxs)(menu,{...args,children:[(0,jsx_runtime.jsx)(menuItem,{children:"首页"}),(0,jsx_runtime.jsx)(menuItem,{children:"关于我们"}),(0,jsx_runtime.jsx)(menuItem,{children:"联系我们"})]})},VerticalMenu={args:{defaultIndex:"0",mode:"vertical"},render:args=>(0,jsx_runtime.jsxs)(menu,{...args,children:[(0,jsx_runtime.jsx)(menuItem,{children:"首页"}),(0,jsx_runtime.jsx)(menuItem,{children:"关于我们"}),(0,jsx_runtime.jsx)(menuItem,{children:"联系我们"})]})},WithSubMenu={args:{defaultIndex:"0",mode:"horizontal"},render:args=>(0,jsx_runtime.jsxs)(menu,{...args,children:[(0,jsx_runtime.jsx)(menuItem,{children:"首页"}),(0,jsx_runtime.jsx)(menuItem,{children:"关于我们"}),(0,jsx_runtime.jsxs)(subMenu,{title:"下拉菜单",children:[(0,jsx_runtime.jsx)(menuItem,{children:"下拉选项一"}),(0,jsx_runtime.jsx)(menuItem,{children:"下拉选项二"})]}),(0,jsx_runtime.jsx)(menuItem,{children:"联系我们"})]})},__namedExportsOrder=["BasicMenu","VerticalMenu","WithSubMenu"];BasicMenu.parameters={...BasicMenu.parameters,docs:{...BasicMenu.parameters?.docs,source:{originalSource:'{\n  args: {\n    defaultIndex: "0",\n    mode: "horizontal"\n  },\n  render: args => <Menu {...args}>\n      <MenuItem>首页</MenuItem>\n      <MenuItem>关于我们</MenuItem>\n      <MenuItem>联系我们</MenuItem>\n    </Menu>\n}',...BasicMenu.parameters?.docs?.source}}},VerticalMenu.parameters={...VerticalMenu.parameters,docs:{...VerticalMenu.parameters?.docs,source:{originalSource:'{\n  args: {\n    defaultIndex: "0",\n    mode: "vertical"\n  },\n  render: args => <Menu {...args}>\n      <MenuItem>首页</MenuItem>\n      <MenuItem>关于我们</MenuItem>\n      <MenuItem>联系我们</MenuItem>\n    </Menu>\n}',...VerticalMenu.parameters?.docs?.source}}},WithSubMenu.parameters={...WithSubMenu.parameters,docs:{...WithSubMenu.parameters?.docs,source:{originalSource:'{\n  args: {\n    defaultIndex: "0",\n    mode: "horizontal"\n  },\n  render: args => <Menu {...args}>\n      <MenuItem>首页</MenuItem>\n      <MenuItem>关于我们</MenuItem>\n      <SubMenu title="下拉菜单">\n        <MenuItem>下拉选项一</MenuItem>\n        <MenuItem>下拉选项二</MenuItem>\n      </SubMenu>\n      <MenuItem>联系我们</MenuItem>\n    </Menu>\n}',...WithSubMenu.parameters?.docs?.source}}}},"./src/components/Icon/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@fortawesome/fontawesome-svg-core/index.mjs"),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_2__.Yv.add(_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_5__.X7I);const Icon=props=>{const{className,theme,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("mingyue-icon",className,{[`icon-${theme}`]:theme});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_3__.g,{className:classes,...restProps})},__WEBPACK_DEFAULT_EXPORT__=Icon;Icon.__docgenInfo={description:"",methods:[],displayName:"Icon",props:{theme:{required:!1,tsType:{name:"union",raw:'| "primary"\n| "secondary"\n| "success"\n| "info"\n| "warning"\n| "danger"\n| "light"\n| "dark"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"success"'},{name:"literal",value:'"info"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"danger"'},{name:"literal",value:'"light"'},{name:"literal",value:'"dark"'}]},description:""}},composes:["FontAwesomeIconProps"]}},"./src/components/Transition/transition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_transition_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Transition=props=>{console.log("ttt",props);const{animation,children,classNames,timeout,wrapper,...restProps}=props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.A,{classNames:classNames||animation,timeout,...restProps,children:wrapper?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{children}):children})},__WEBPACK_DEFAULT_EXPORT__=Transition;Transition.__docgenInfo={description:"",methods:[],displayName:"Transition",props:{animation:{required:!1,tsType:{name:"union",raw:'| "zoom-in-top"\n| "zoom-in-left"\n| "zoom-in-right"\n| "zoom-in-bottom"',elements:[{name:"literal",value:'"zoom-in-top"'},{name:"literal",value:'"zoom-in-left"'},{name:"literal",value:'"zoom-in-right"'},{name:"literal",value:'"zoom-in-bottom"'}]},description:""},classNames:{required:!1,tsType:{name:"string"},description:""},wrapper:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit"]}}}]);